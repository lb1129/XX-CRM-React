{"version":3,"file":"static/js/818.c4b4742a.chunk.js","mappings":"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","sources":["components/ToggleLanguage/index.tsx","utils/useEmotionCss.ts","views/Index.style.ts","assets/image/logo.svg","views/Index.tsx"],"sourcesContent":["import React from 'react'\nimport { Dropdown } from 'antd'\nimport { GlobalOutlined } from '@ant-design/icons'\nimport { useTranslation } from 'react-i18next'\n\ntype Props = {\n  className?: string\n}\n\nconst ToggleLanguage = (props: Props) => {\n  const { i18n } = useTranslation()\n  return (\n    <Dropdown\n      menu={{\n        onClick(info) {\n          i18n.changeLanguage(info.key)\n        },\n        selectedKeys: [i18n.language],\n        items: [\n          {\n            label: 'English',\n            key: 'en'\n          },\n          {\n            label: '中文',\n            key: 'zh-CN'\n          }\n        ]\n      }}\n    >\n      <span\n        className={props.className}\n        style={{\n          fontSize: '16px'\n        }}\n      >\n        <GlobalOutlined />\n      </span>\n    </Dropdown>\n  )\n}\n\nexport default ToggleLanguage\n","import { css, CSSInterpolation } from '@emotion/css'\nimport { theme } from 'antd'\n\nexport type { CSSInterpolation } from '@emotion/css'\n\nexport type Theme = ReturnType<typeof theme.useToken>\n\nexport type cssFunction = (token: Theme) => CSSInterpolation | Array<CSSInterpolation>\n\nexport const useEmotionCss = (cssFn: cssFunction) => {\n  const token = theme.useToken()\n  return css(cssFn(token))\n}\n","import { useEmotionCss } from '@/utils/useEmotionCss'\n\nexport default function useIndexStyles() {\n  return {\n    wrap: useEmotionCss(() => ({\n      height: '100%'\n    })),\n    header: useEmotionCss(({ token }) => ({\n      display: 'flex',\n      alignItems: 'center',\n      padding: '0 16px',\n      color: token.colorWhite\n    })),\n    headerLogo: useEmotionCss(({ token }) => ({\n      fontWeight: 600,\n      fontSize: '18px',\n      '&>a': {\n        display: 'flex',\n        alignItems: 'center',\n        color: token.colorWhite,\n        '&>img': {\n          width: '38px',\n          height: '38px'\n        }\n      }\n    })),\n    headerCenter: useEmotionCss(() => ({\n      flex: 1\n    })),\n    headerRight: useEmotionCss(() => ({\n      display: 'flex'\n    })),\n    headerRightItem: useEmotionCss(() => ({\n      padding: '0 12px',\n      cursor: 'pointer',\n      transition: 'all 0.3s',\n      '&:hover': {\n        backgroundColor: '#252a3d'\n      }\n    })),\n    headerRightItemUser: useEmotionCss(() => ({\n      display: 'flex',\n      alignItems: 'center'\n    })),\n    sliderContent: useEmotionCss(({ token }) => ({\n      height: '100%',\n      overflow: 'auto',\n      borderBottomWidth: token.lineWidthBold,\n      borderBottomStyle: 'solid',\n      borderBottomColor: token.colorBorderSecondary\n    })),\n    content: useEmotionCss(({ token }) => ({\n      backgroundColor: token.colorBgContainer,\n      overflow: 'hidden'\n    }))\n  }\n}\n","var _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 841.9 595.3\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#61DAFB\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 420.9,\n    cy: 296.5,\n    r: 45.7\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M520.5 78.1z\"\n  }))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, createRef } from 'react'\nimport logoSvg from '@/assets/image/logo.svg'\nimport userPng from '@/assets/image/user.png'\nimport { HomeOutlined, UserOutlined, BgColorsOutlined } from '@ant-design/icons'\nimport {\n  Breadcrumb,\n  Layout,\n  Menu,\n  Dropdown,\n  Avatar,\n  App,\n  ColorPicker,\n  type BreadcrumbProps\n} from 'antd'\nimport { useOutlet, useNavigate, useLocation } from 'react-router-dom'\nimport ToggleLanguage from '@/components/ToggleLanguage'\nimport { useAppSelector, useAppDispatch } from '@/store/hook'\nimport { setColorPrimary } from '@/store/theme-slice'\nimport { type MenuDataItemType } from '@/store/menuDataSlice'\nimport { CSSTransition, SwitchTransition } from 'react-transition-group'\nimport useIndexStyles from './Index.style'\nimport { MenuItemType, SubMenuType } from 'antd/es/menu/hooks/useItems'\nimport { tokenLocalforage } from '@/utils/localforage'\nimport { useTranslation } from 'react-i18next'\n\nconst { Header, Content, Sider } = Layout\n\ntype MenuItem = MenuItemType | SubMenuType\n\nconst Index = () => {\n  const [selectedKeys, setSelectedKeys] = useState<string[]>([])\n  const [openKeys, setOpenKeys] = useState<string[]>([])\n  const [breadcrumb, setBreadcrumb] = useState<BreadcrumbProps['items']>([])\n  const [menuItems, setMenuItems] = useState<MenuItem[]>([])\n  const styles = useIndexStyles()\n\n  const navigate = useNavigate()\n  const { pathname } = useLocation()\n  const { modal, message } = App.useApp()\n\n  const colorPrimary = useAppSelector((state) => state.theme.token?.colorPrimary)\n  const menuData = useAppSelector((state) => state.menuData.data)\n  const userInfo = useAppSelector((state) => state.userInfo)\n  const dispatch = useAppDispatch()\n\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    // 左侧菜单选中项与路由联动\n    setSelectedKeys([pathname])\n    // 左侧菜单打开项与路由联动\n    const pathnameArr = pathname.split('/')\n    setOpenKeys(pathnameArr.slice(1, -1).map((key) => `/${key}`))\n    // 面包屑与路由联动\n    setBreadcrumb(\n      pathnameArr.slice(1).reduce<BreadcrumbProps['items']>((prev, current) => {\n        prev!.push({\n          title: t(current)\n        })\n        return prev\n      }, [])\n    )\n  }, [pathname, navigate, t])\n\n  // 结合Transtion使用\n  const currentOutlet = useOutlet()\n  const nodeRef = createRef<HTMLDivElement>()\n\n  // 用户菜单数据生成菜单组件items\n  useEffect(() => {\n    const generateMenuItems = (list: MenuDataItemType[], parent?: MenuDataItemType) => {\n      let result: MenuItem[] = []\n      list.forEach((menu) => {\n        if (!menu.hidden) {\n          let item: MenuItem = {\n            key: parent ? `${parent.path}${menu.path}` : menu.path,\n            icon: menu.icon,\n            label: t(menu.name)\n          }\n          if (menu.children && menuData.length) {\n            ;(item as SubMenuType).children = generateMenuItems(menu.children, menu)\n          }\n          result.push(item)\n        }\n      })\n      return result\n    }\n    setMenuItems([\n      {\n        key: '/',\n        icon: <HomeOutlined />,\n        label: t('homePage')\n      },\n      ...generateMenuItems(menuData),\n      {\n        key: '/personalCenter',\n        icon: <UserOutlined />,\n        label: t('personalCenter')\n      }\n    ])\n  }, [menuData, t])\n\n  return (\n    <Layout className={styles.wrap}>\n      <Header className={styles.header}>\n        <div className={styles.headerLogo}>\n          <a href=\"/\">\n            <img src={logoSvg} alt=\"logo\" />\n            {process.env.REACT_APP_SYSTEM_NAME}\n          </a>\n        </div>\n        <div className={styles.headerCenter}></div>\n        <div className={styles.headerRight}>\n          <ColorPicker\n            trigger=\"hover\"\n            value={colorPrimary}\n            onChange={(value, hex) => {\n              dispatch(setColorPrimary(hex))\n            }}\n          >\n            <BgColorsOutlined style={{ fontSize: '16px' }} className={styles.headerRightItem} />\n          </ColorPicker>\n          <Dropdown\n            menu={{\n              items: [\n                {\n                  label: <span>{t('personalCenter')}</span>,\n                  key: 'personalCenter',\n                  onClick() {\n                    navigate('/personalCenter')\n                  }\n                },\n                {\n                  type: 'divider'\n                },\n                {\n                  label: <span>{t('logOut')}</span>,\n                  key: 'logOut',\n                  onClick() {\n                    modal.confirm({\n                      title: t('tip'),\n                      content: t('areYouSureToLogOut'),\n                      onOk() {\n                        message.loading(t('signingOutPleaseWait'), 0)\n                        // mock 退出登录流程\n                        setTimeout(() => {\n                          tokenLocalforage.clear().then(() => {\n                            message.destroy()\n                            navigate('/login', { replace: true })\n                          })\n                        }, 500)\n                      }\n                    })\n                  }\n                }\n              ]\n            }}\n          >\n            <span className={`${styles.headerRightItem} ${styles.headerRightItemUser}`}>\n              <Avatar size=\"small\" src={userPng} />\n              <span style={{ marginLeft: '8px' }}>{userInfo.userName}</span>\n            </span>\n          </Dropdown>\n          <ToggleLanguage className={styles.headerRightItem} />\n        </div>\n      </Header>\n      <Layout>\n        <Sider\n          onCollapse={(collapsed) => {\n            // 左侧菜单由收起到展开时 重新设置openKeys\n            if (!collapsed) {\n              const pathnameArr = pathname.split('/')\n              setOpenKeys(pathnameArr.slice(1, -1).map((key) => `/${key}`))\n            }\n          }}\n          collapsible\n          collapsedWidth={48}\n          width={208}\n          theme=\"light\"\n        >\n          <div className={styles.sliderContent}>\n            <Menu\n              mode=\"inline\"\n              onClick={(menuInfo) => {\n                navigate(menuInfo.key)\n              }}\n              selectedKeys={selectedKeys}\n              onSelect={(info) => {\n                setSelectedKeys([info.key])\n              }}\n              openKeys={openKeys}\n              onOpenChange={(keys) => {\n                setOpenKeys(keys)\n              }}\n              items={menuItems}\n            />\n          </div>\n        </Sider>\n        <Layout style={{ padding: '0 24px 24px' }}>\n          <Breadcrumb style={{ margin: '16px 0' }} items={breadcrumb}></Breadcrumb>\n          <Content className={styles.content}>\n            <SwitchTransition>\n              <CSSTransition\n                nodeRef={nodeRef}\n                key={pathname}\n                timeout={300}\n                classNames=\"transition-scale\"\n                unmountOnExit\n              >\n                <div style={{ height: '100%' }} ref={nodeRef}>\n                  {currentOutlet}\n                </div>\n              </CSSTransition>\n            </SwitchTransition>\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default Index\n"],"names":["props","i18n","useTranslation","_jsx","Dropdown","menu","onClick","info","changeLanguage","key","selectedKeys","language","items","label","children","className","style","fontSize","GlobalOutlined","useEmotionCss","cssFn","token","theme","css","useIndexStyles","wrap","height","header","_ref","display","alignItems","padding","color","colorWhite","headerLogo","_ref2","fontWeight","width","headerCenter","flex","headerRight","headerRightItem","cursor","transition","backgroundColor","headerRightItemUser","sliderContent","_ref3","overflow","borderBottomWidth","lineWidthBold","borderBottomStyle","borderBottomColor","colorBorderSecondary","content","_ref4","colorBgContainer","Header","Layout","Content","Sider","_useState","useState","_useState2","_slicedToArray","setSelectedKeys","_useState3","_useState4","openKeys","setOpenKeys","_useState5","_useState6","breadcrumb","setBreadcrumb","_useState7","_useState8","menuItems","setMenuItems","styles","navigate","useNavigate","pathname","useLocation","_App$useApp","App","modal","message","colorPrimary","useAppSelector","state","_state$theme$token","menuData","data","userInfo","dispatch","useAppDispatch","t","useEffect","pathnameArr","split","slice","map","concat","reduce","prev","current","push","title","currentOutlet","useOutlet","nodeRef","createRef","icon","HomeOutlined","_toConsumableArray","generateMenuItems","list","parent","result","forEach","hidden","item","path","name","length","UserOutlined","_jsxs","href","src","logoSvg","alt","process","ColorPicker","trigger","value","onChange","hex","setColorPrimary","BgColorsOutlined","type","confirm","onOk","loading","setTimeout","tokenLocalforage","then","destroy","replace","Avatar","size","userPng","marginLeft","userName","ToggleLanguage","onCollapse","collapsed","collapsible","collapsedWidth","Menu","mode","menuInfo","onSelect","onOpenChange","keys","Breadcrumb","margin","SwitchTransition","CSSTransition","timeout","classNames","unmountOnExit","ref"],"sourceRoot":""}