"use strict";(self.webpackChunkl_admin_react=self.webpackChunkl_admin_react||[]).push([[36937,69155],{3355:function(e,n,t){t.d(n,{Z:function(){return o}});t(47313);var r=t(52917),i=t(20377);var a=t(46417),o=function(e){var n=e.title,t=e.subTitle,o=e.extra,c=e.children,l=e.onBack,u={wrap:(0,i.l)((function(){return{color:"#000000d9",fontSize:"14px",position:"relative",padding:"16px 24px",backgroundColor:"#fff"}})),head:(0,i.l)((function(){return{display:"flex",justifyContent:"space-between"}})),headLeft:(0,i.l)((function(){return{display:"flex",alignItems:"center",margin:"4px 0",overflow:"hidden"}})),headBack:(0,i.l)((function(){return{marginRight:"16px",fontSize:"16px",lineHeight:1}})),headBackButton:(0,i.l)((function(e){return{display:"inline-block",transition:"color .3s",color:e.token.colorPrimary,cursor:"pointer"}})),headTitle:(0,i.l)((function(){return{marginRight:"12px",color:"#000000d9",fontWeight:600,fontSize:"20px",lineHeight:"32px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),headSubTitle:(0,i.l)((function(){return{marginRight:"12px",color:"#00000073",fontSize:"14px",lineHeight:"1.5715",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),headExtra:(0,i.l)((function(){return{margin:"4px 0",whiteSpace:"nowrap","&>*":{marginLeft:"12px",whiteSpace:"unset"},"&>*:first-child":{marginLeft:0}}})),content:(0,i.l)((function(){return{paddingTop:"12px"}}))};return(0,a.jsxs)("div",{className:u.wrap,children:[(0,a.jsxs)("div",{className:u.head,children:[(0,a.jsxs)("div",{className:u.headLeft,children:[(0,a.jsx)("div",{className:u.headBack,children:(0,a.jsx)("div",{className:u.headBackButton,onClick:l,children:(0,a.jsx)(r.default,{})})}),(0,a.jsx)("span",{className:u.headTitle,children:n}),(0,a.jsx)("span",{className:u.headSubTitle,children:t})]}),(0,a.jsx)("div",{className:u.headExtra,children:o})]}),(0,a.jsx)("div",{className:u.content,children:c})]})}},62202:function(e,n,t){t.d(n,{y:function(){return r}});var r=Symbol("productEditDone")},31876:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(15671),i=t(43144),a=function(){function e(){(0,r.Z)(this,e),this.store=void 0,this.store=new Map}return(0,i.Z)(e,[{key:"on",value:function(e,n,t){var r={handler:n,once:!!t};if(this.store.has(e)){var i=this.store.get(e);null===i||void 0===i||i.push(r)}else this.store.set(e,[r])}},{key:"off",value:function(e,n){if(this.store.has(e)){var t=this.store.get(e),r=null===t||void 0===t?void 0:t.findIndex((function(e){return e.handler===n}));(r||0===r)&&(null===t||void 0===t||t.splice(r,1))}}},{key:"emit",value:function(e){for(var n=this,t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(this.store.has(e)){var a=this.store.get(e);null===a||void 0===a||a.forEach((function(t){t.handler.apply(t,r),t.once&&n.off(e,t.handler)}))}}},{key:"once",value:function(e,n){this.on(e,n,!0)}}]),e}(),o=new a},50312:function(e,n,t){t.d(n,{a:function(){return c},o:function(){return o}});var r=t(93433),i=t(58467),a=t(10340),o=function(e){return 0===e},c=function(){for(var e=(0,i.SN)(),n=e[e.length-1].id,t=(0,a.C)((function(e){return e.menuData.data})),o={},c=(0,r.Z)(t);c.length;){var l=c.shift();if(l.pageUrl&&l.pageUrl.split("/")[1]===n){l.operateAuth&&(o=l.operateAuth);break}l.children&&l.children.length&&(c=[].concat((0,r.Z)(l.children),(0,r.Z)(l.children)))}return{operateAuth:o}}},20377:function(e,n,t){t.d(n,{l:function(){return a}});var r=t(838),i=t(92465),a=function(e){var n=i.Z.useToken();return(0,r.iv)(e(n))}},36937:function(e,n,t){t.r(n);var r=t(74165),i=t(15861),a=t(29439),o=t(47313),c=t(59491),l=t(99613),u=t(4988),d=t(58467),s=t(3355),f=t(75590),h=t(50312),p=t(69155),v=t(31876),x=t(62202),m=t(46417);n.default=function(){var e=(0,d.UO)(),n=(0,d.s0)(),t=(0,f.$G)().t,g=(0,h.a)().operateAuth,Z=(0,o.useState)(!1),b=(0,a.Z)(Z,2),y=b[0],j=b[1],k=(0,o.useState)({name:"",brand:"",category:"",price:0,color:"",style:"",enable:!0,inventory:0,describe:""}),w=(0,a.Z)(k,2),S=w[0],I=w[1],B=(0,o.useCallback)((0,i.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.id){n.next=13;break}return j(!0),n.prev=2,n.next=5,(0,p.getProductById)(e.id);case 5:t=n.sent,I(t.data),j(!1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),j(!1);case 13:case"end":return n.stop()}}),n,null,[[2,10]])}))),[e.id]);return(0,o.useEffect)((function(){B()}),[B]),(0,o.useEffect)((function(){return v.Z.on(x.y,B),function(){v.Z.off(x.y,B)}}),[B]),(0,m.jsx)(s.Z,{title:t("detail"),onBack:function(){return n(-1)},extra:(0,m.jsx)(c.ZP,{type:"primary",disabled:(0,h.o)(g.edit),onClick:function(){n({id:"ProductAddOrEdit",params:{id:S.id}})},children:t("edit")}),children:(0,m.jsx)(l.Z,{loading:y,children:(0,m.jsxs)(u.Z,{bordered:!0,column:3,children:[(0,m.jsx)(u.Z.Item,{label:"name",children:S.name}),(0,m.jsx)(u.Z.Item,{label:"brand",children:S.brand}),(0,m.jsx)(u.Z.Item,{label:"category",children:S.category}),(0,m.jsx)(u.Z.Item,{label:"price",children:S.price}),(0,m.jsx)(u.Z.Item,{label:"color",children:S.color}),(0,m.jsx)(u.Z.Item,{label:"inventory",children:S.inventory}),(0,m.jsx)(u.Z.Item,{label:"style",span:3,children:S.style}),(0,m.jsx)(u.Z.Item,{label:"describe",children:S.describe})]})})})}},69155:function(e,n,t){t.r(n),t.d(n,{deleteProductByIds:function(){return c},getProductById:function(){return a},getProducts:function(){return l},saveProduct:function(){return o}});var r=t(67037),i=t(84312),a=function(e){return r.Z.get(i.j,{params:{id:e}})},o=function(e){return r.Z.post(i.j,e)},c=function(e){return r.Z.delete(i.j,{data:e})},l=function(e){return r.Z.post(i.jN,e)}}}]);