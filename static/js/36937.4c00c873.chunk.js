"use strict";(self.webpackChunkl_admin_react=self.webpackChunkl_admin_react||[]).push([[36937],{3355:function(e,n,t){t.d(n,{Z:function(){return o}});t(47313);var r=t(52917),i=t(20377);var a=t(46417),o=function(e){var n=e.title,t=e.subTitle,o=e.extra,l=e.children,c=e.onBack,s={wrap:(0,i.l)((function(){return{height:"100%",display:"flex",flexDirection:"column",color:"#000000d9",fontSize:"14px",position:"relative",padding:"16px 24px",backgroundColor:"#fff"}})),head:(0,i.l)((function(){return{display:"flex",justifyContent:"space-between"}})),headLeft:(0,i.l)((function(){return{display:"flex",alignItems:"center",margin:"4px 0",overflow:"hidden"}})),headBack:(0,i.l)((function(){return{marginRight:"16px",fontSize:"16px",lineHeight:1}})),headBackButton:(0,i.l)((function(e){return{display:"inline-block",transition:"color .3s",color:e.token.colorPrimary,cursor:"pointer"}})),headTitle:(0,i.l)((function(){return{marginRight:"12px",color:"#000000d9",fontWeight:600,fontSize:"20px",lineHeight:"32px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),headSubTitle:(0,i.l)((function(){return{marginRight:"12px",color:"#00000073",fontSize:"14px",lineHeight:"1.5715",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),headExtra:(0,i.l)((function(){return{margin:"4px 0",whiteSpace:"nowrap","&>*":{marginLeft:"12px",whiteSpace:"unset"},"&>*:first-child":{marginLeft:0}}})),content:(0,i.l)((function(){return{flex:1,paddingTop:"12px",overflowX:"hidden",overflowY:"auto"}}))};return(0,a.jsxs)("div",{className:s.wrap,children:[(0,a.jsxs)("div",{className:s.head,children:[(0,a.jsxs)("div",{className:s.headLeft,children:[(0,a.jsx)("div",{className:s.headBack,children:(0,a.jsx)("div",{className:s.headBackButton,onClick:c,children:(0,a.jsx)(r.default,{})})}),(0,a.jsx)("span",{className:s.headTitle,children:n}),(0,a.jsx)("span",{className:s.headSubTitle,children:t})]}),(0,a.jsx)("div",{className:s.headExtra,children:o})]}),(0,a.jsx)("div",{className:s.content,children:l})]})}},62202:function(e,n,t){t.d(n,{y:function(){return r}});var r=Symbol("productEditDone")},31876:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(15671),i=t(43144),a=function(){function e(){(0,r.Z)(this,e),this.store=void 0,this.store=new Map}return(0,i.Z)(e,[{key:"on",value:function(e,n,t){var r={handler:n,once:!!t};if(this.store.has(e)){var i=this.store.get(e);null===i||void 0===i||i.push(r)}else this.store.set(e,[r])}},{key:"off",value:function(e,n){if(this.store.has(e)){var t=this.store.get(e),r=null===t||void 0===t?void 0:t.findIndex((function(e){return e.handler===n}));(r||0===r)&&(null===t||void 0===t||t.splice(r,1))}}},{key:"emit",value:function(e){for(var n=this,t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(this.store.has(e)){var a=this.store.get(e);null===a||void 0===a||a.forEach((function(t){t.handler.apply(t,r),t.once&&n.off(e,t.handler)}))}}},{key:"once",value:function(e,n){this.on(e,n,!0)}}]),e}(),o=new a},86081:function(e,n,t){t.d(n,{Bo:function(){return o},D$:function(){return c},RC:function(){return l},jS:function(){return a}});var r=t(55611),i=t(84312),a=function(e){return r.Z.get(i.ut,{params:{id:e}})},o=function(e){return r.Z.post(i.yZ,e)},l=function(e){return r.Z.delete(i.yg,{data:{ids:e}})},c=function(e){return r.Z.post(i.jN,e)}},50312:function(e,n,t){t.d(n,{a:function(){return l},o:function(){return o}});var r=t(93433),i=t(58467),a=t(10340),o=function(e){return 0===e},l=function(){for(var e=(0,i.SN)(),n=e[e.length-1].id,t=(0,a.C)((function(e){return e.menuData.data})),o={},l=(0,r.Z)(t);l.length;){var c=l.shift();if(c.pageUrl&&c.pageUrl.split("/")[1]===n){c.operateAuth&&(o=c.operateAuth);break}c.children&&c.children.length&&(l=[].concat((0,r.Z)(c.children),(0,r.Z)(c.children)))}return{operateAuth:o}}},20377:function(e,n,t){t.d(n,{l:function(){return a}});var r=t(838),i=t(92465),a=function(e){var n=i.Z.useToken();return(0,r.iv)(e(n))}},36937:function(e,n,t){t.r(n);var r=t(74165),i=t(15861),a=t(29439),o=t(47313),l=t(59491),c=t(99613),s=t(4988),u=t(75834),d=t(58467),f=t(3355),h=t(75590),p=t(50312),x=t(86081),v=t(31876),m=t(62202),g=t(46417);n.default=function(){var e=(0,d.UO)(),n=(0,d.s0)(),t=(0,h.$G)().t,Z=(0,p.a)().operateAuth,b=(0,o.useState)(!1),j=(0,a.Z)(b,2),w=j[0],y=j[1],k=(0,o.useState)({name:"",brand:"",category:"",price:0,color:"",style:"",enable:!0,inventory:0,describe:"",images:[]}),S=(0,a.Z)(k,2),I=S[0],N=S[1],B=(0,o.useCallback)((0,i.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.id){n.next=13;break}return y(!0),n.prev=2,n.next=5,(0,x.jS)(e.id);case 5:t=n.sent,N(t.data),y(!1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),y(!1);case 13:case"end":return n.stop()}}),n,null,[[2,10]])}))),[e.id]);return(0,o.useEffect)((function(){B()}),[B]),(0,o.useEffect)((function(){return v.Z.on(m.y,B),function(){v.Z.off(m.y,B)}}),[B]),(0,g.jsx)(f.Z,{title:t("detail"),onBack:function(){return n(-1)},extra:(0,g.jsx)(l.ZP,{type:"primary",disabled:(0,p.o)(Z.edit),onClick:function(){n({id:"ProductAddOrEdit",params:{id:I._id}})},children:t("edit")}),children:(0,g.jsx)(c.Z,{loading:w,children:(0,g.jsxs)(s.Z,{bordered:!0,column:3,children:[(0,g.jsx)(s.Z.Item,{label:"\u540d\u79f0",children:I.name}),(0,g.jsx)(s.Z.Item,{label:"\u54c1\u724c",children:I.brand}),(0,g.jsx)(s.Z.Item,{label:"\u5206\u7c7b",children:I.category}),(0,g.jsx)(s.Z.Item,{label:"\u4ef7\u683c",children:I.price}),(0,g.jsx)(s.Z.Item,{label:"\u989c\u8272",children:I.color}),(0,g.jsx)(s.Z.Item,{label:"\u5e93\u5b58",children:I.inventory}),(0,g.jsx)(s.Z.Item,{label:"\u6837\u5f0f",span:3,children:I.style}),(0,g.jsx)(s.Z.Item,{label:"\u63cf\u8ff0",span:3,children:I.describe}),(0,g.jsx)(s.Z.Item,{label:"\u56fe\u7247",span:3,children:(0,g.jsx)(u.Z.PreviewGroup,{children:I.images.map((function(e){return(0,g.jsx)(u.Z,{width:104,height:104,src:e},e)}))})})]})})})}}}]);